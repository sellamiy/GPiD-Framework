module Oopsla28
 use int.Int
 use ref.Ref

 val unknown (unit) : bool

 let main(void) : unit
  diverges
 = let x = ref 0 in let y = ref 0 in let n = ref 0 in

   while unknown() do
    invariant { true }
    x := !x + 1;
    y := !y + 1;
   done;

   while !x <> !n do
    invariant { true }
    x := !x - 1;
    y := !y - 1;
   done;

   assert { !y = !n }

end
