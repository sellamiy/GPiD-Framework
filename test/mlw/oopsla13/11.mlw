module Oopsla11
 use int.Int
 use ref.Ref

 let main (void) : unit diverges =
  let j = ref 0 in
  let i = ref 0 in
  let x = ref 100 in

  while !i < !x do
   invariant { !j = !i * 2 /\ !i <= !x }
   j := !j + 2;
   i := !i + 1
  done;

  assert { !j = !x * 2 }

end
