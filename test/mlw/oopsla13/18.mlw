module Oopsla18
 use int.Int
 use ref.Ref

 let main (flag: bool) : unit =
  let j = ref 0 in

  for b = 0 to 99 do
   invariant { true }
   if flag then j := !j + 1
  done;

  if flag then assert { !j = 100 }

end
