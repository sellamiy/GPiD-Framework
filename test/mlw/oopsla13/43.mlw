module Oopsla43
 use int.Int
 use ref.Ref

 val unknown (unit) : bool

 let foo (x: int) (y0 : int) : unit
   diverges
 = let t = ref y0 in
   let y = ref y0 in

   if x = !y then return;

   while unknown() do
     invariant { !y >= !t }
     if x > 0 then y := !y + x
   done;

   assert { !y >= !t }

end
