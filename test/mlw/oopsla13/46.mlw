module Oopsla46
 use int.Int
 use ref.Ref
 use int.EuclideanDivision

 val unknown (unit) : bool

 let main (void) : unit diverges
 = let w = ref 1 in let z = ref 0 in let x = ref 0 in let y = ref 0 in

 while unknown() do invariant { true }
  if mod !w 2 = 1 then begin x := !x + 1; w := !w + 1 end;
  if mod !z 2 = 0 then begin y := !y + 1; z := !z + 1 end;
 done;

 assert { !x <= 1 }
end
